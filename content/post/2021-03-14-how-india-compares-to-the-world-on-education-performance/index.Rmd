---
title: "How India Compares to the World on Education Performance"
author: ''
date: '2021-03-14'
slug: []
draft: yes
categories: []
tags: []
---

Researchers at the World Bank recently released an excellent new dataset on learning outcomes by country.The dataset is [here](https://datacatalog.worldbank.org/dataset/harmonized-learning-outcomes-hlo-database) and a journal article describing the dataset is [here](https://www.nature.com/articles/s41586-021-03323-7). This is the first dataset on learning outcomes (rather than educational attainment) which includes most low income countries. (Hanushek and Woesmann created a cross country dataset on learning outcomes some time back but it only included 77 countries.)





# How does India compare to other countries on learning outcomes?

I was curious to see how India does compared to other countries in the HLO dataset. The HLO dataset reports HLOs by subject and year so I first calculated the mean HLO for the most recent year data was available for each country and merged in data on GDP per capita from the World Bank. The figure below plots mean HLO for most recent year available versus log GDP per capita for each country in the dataset. It seems like India does about as well as would be expected given its level of income.

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse); library(readxl); library(ggrepel)
hlo <- read_excel("C:/Users/dougj/Documents/Data/Education/HLO/hlo_database.xlsx", sheet = "HLO Database")

# Take the mean by year, get the latest year
hlo_latest <- hlo %>% group_by(code, year) %>% 
  summarise(hlo = mean(hlo)) %>% 
  ungroup() %>% group_by(code) %>% 
  slice_max(order_by = year)


# Merge with GDP per capita. I grabbed this dataset from Our World in Data but the source is the World Bank. Link here https://ourworldindata.org/grapher/gdp-per-capita-worldbank
gdp <- read_csv("C:/Users/dougj/Documents/Data/gdp-per-capita-worldbank.csv") %>% rename(gdp = `GDP per capita, PPP (constant 2011 international $)`, code = Code, year = Year)

# Data for 7 countries doesn't merge. I just drop these
unmerged <- hlo_latest %>% anti_join(gdp, by = c("code", "year"))
hlo_latest <- hlo_latest %>% left_join(gdp, by = c("code", "year")) %>% 
  mutate(log_gdp = log(gdp), country = if_else(code == "IND", "India", "Not India"))
```


```{r, echo=FALSE, message=FALSE, warning=FALSE}
# Graph HLO versus GDP
p <- ggplot(hlo_latest, aes(log_gdp, hlo, color = country)) + 
  geom_point() + geom_smooth(method = "lm") +
  labs(title = "Most recent average HLO versus GDP per capita (PPP)")
print(p)
```


# How reliable is the HLO value for India?

The HLO dataset is fantastic but to generate comparable data for so many countries the creators of the dataset had to rely on 


- mention that averaging ASER scores is a bad idea but we are just going for a very rough sense of whether this makes sense

- also compare India with Pakistan and other countries which have implemented ASER-like tests


The HLO value for India relies entirely on one assessment: the 2009 PISA. In 2009, two states in India, HP and Tamil Nadu, participated in the PISA assessment. The two states combined ranked almost dead last when compared to other countries which took the PISA that year and thus the exercise was not repeated. (India had planned on participating in the 2021 PISA but I imagine those plans have been scrapped. Only schools in Chandigarh and KVs and NVs in the rest of the country would have participated anyway so it wouldn't have been very informative anyway.)

There are several issues with using the 2009 PISA to compare India with other countries. First, the data is quite old and ASER data show a significant decline in learning outcomes from 2009 on. Second, PISA uses school-based sampling of 15 year-olds. Since many 15 year-olds in many developing countries are no longer in school, and dropout rates vary by country, comparisons which rely on enrolled students of this age may reflect the differences in who stays in school rather than differences in learning outcomes for the entire population. Third, students in HP and Tamil Nadu may not be representative of the entire country.

The most obvious issue, and the one that probably caught most readers' attention above, is that HP and Tamil Nadu are not necessarily representative of the rest of the country.







```{r}
library(haven)
ihds_ind_dir <- "C:/Users/dougj/Documents/Data/IHDS/IHDS 2012/DS0001"
ind_file <- file.path(ihds_ind_dir, "36151-0001-Data.dta")

# read in just those variables that i need
ihds <- read_dta(ind_file, col_select = c(STATEID, HHID, HHSPLITID, PERSONID, WT, RO3, RO7, RO5, URBAN2011, starts_with("CS"), starts_with("TA"), starts_with("ED")))

# drop the one row with missing values for weights
ihds <- ihds %>% filter(!is.na(WT))

# create variable for whether children have attained the top score on the ASER reading and math assessments
ihds <- ihds %>% mutate(reading = (TA8B ==4), math = (TA9B == 4)) %>% mutate(State = as_factor(STATEID))

# Look at the difference between urban and rural average scores by state
urb_rural_diff <- ihds %>% group_by(State, URBAN2011) %>% 
  summarize(reading = weighted.mean(TA8B, WT, na.rm = TRUE), 
            math = weighted.mean(TA9B, WT, na.rm = TRUE)) %>% pivot_wider(id_cols = State, names_from = "URBAN2011", values_from = c("reading", "math")) %>% 
  mutate(urb_diff_read = reading_1 - reading_0, urb_diff_math = math_1 - math_0)
  
# Look at the average of all students in TN and HP versus the rest of the country
tn_hp <- ihds %>% 
  mutate(pisa_samp = (State == "Tamil Nadu 33" | State == "Himachal Pradesh 02")) %>% 
  group_by(pisa_samp) %>% 
  summarize(reading = weighted.mean(TA8B, WT, na.rm = TRUE), 
            math = weighted.mean(TA9B, WT, na.rm = TRUE)) 

```





